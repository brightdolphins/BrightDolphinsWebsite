!function(e,a){"use strict";var i={init:function(){a.hooks.addAction("frontend/element_ready/eac-addon-lecteur-rss.default",i.widgetRssReader)},widgetRssReader:function(a){var i,r=a.find(".eac-rss-galerie"),t=a.find("#rss__options-items"),s=a.find("#rss__read-button"),n=a.find(".rss-item__header"),o=a.find("#rss__loader-wheel"),l=a.find("#rss_nonce").val(),d=a.find(".rss-galerie"),p=d.data("settings")||{},m=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent);0!==Object.keys(p).length&&p.data_nombre&&p.data_longueur&&(i=new ajaxCallFeed,t.find("option:first").attr("selected","selected"),t.on("change",(function(a){a.preventDefault(),s.attr("aria-expanded","false"),e(".rss-galerie__item",d).remove(),n.html("")})),s.on("click touch",(function(a){a.preventDefault(),e(this).attr("aria-expanded","true"),e(".rss-galerie__item",d).remove(),n.html(""),i.init(e("#rss__options-items option:selected",r).val().replace(/\s+/g,""),l,p.data_id),o.show()})),e(document).ajaxComplete((function(a,r,t){if(t.ajaxOptions&&t.ajaxOptions===i.getOptions()){a.stopImmediatePropagation(),o.hide();var s=i.getItems();if(s.headError)return n.html('<span style="text-align:center; word-break:break-word;"><p>'+s.headError+"</p></span>"),!1;if(!s.rss)return n.html('<span style="text-align: center">Nothing to display</span>'),!1;var l=s.rss,c=s.profile,g=e("<div/>",{class:"rss-item__header-content"});c.headLogo&&n.append('<div class="rss-item__header-img"><a href="'+c.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><img class="eac-image-loaded" src="'+c.headLogo+'" alt="'+c.headTitle+'"></a></div>'),g.append('<span><a href="'+c.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><h2>'+c.headTitle.substring(0,27)+"...</h2></a></span>"),g.append("<span>"+c.headDescription+"</span>"),n.append(g),e.each(l,(function(a,i){if(a>=p.data_nombre)return!1;var r=e("<div/>",{class:"rss-galerie__item"}),t=e("<div/>",{class:"rss-galerie__content"});if(i.img&&p.data_img){var s="",n=e.trim(i.title.replace(/"/g," "));s=i.img.match(/\.mp3|\.m4a/)?'<div class="rss-galerie__item-image"><audio aria-label="'+n+'" controls preload="none" src="'+i.img+'" type="audio/mp3"></audio></div>':i.img.match(/\.mp4|\.m4v/)?'<div class="rss-galerie__item-image">'+(m?'<video aria-label="'+n+'" controls preload="metadata" type="video/mp4">':'<video controls preload="none" type="video/mp4">')+'<source src="'+i.img+"\">Your browser doesn't support embedded videos</video></div>":i.img.match(/\.pdf/)?'<div class="rss-galerie__item-image" aria-label="'+n+'"><a href="'+i.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="rss-gallery" data-caption="'+n+'"><i class="fa fa-file-pdf-o" aria-hidden="true"></i></a></div>':p.data_lightbox?'<div class="rss-galerie__item-image" role="img" aria-label="'+n+'"><a href="'+i.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="rss-gallery" data-caption="'+n+'"><img class="eac-image-loaded" src="'+i.img+'"></a></div>':p.data_image_link?'<div class="rss-galerie__item-image" role="img" aria-label="'+n+'"><a href="'+i.lien+'" target="_blank" rel="nofollow noopener noreferrer"><img class="eac-image-loaded" src="'+i.img+'"></a></div>':'<div class="rss-galerie__item-image" role="img" aria-label="'+n+'"><img class="eac-image-loaded" src="'+i.img+'"></div>',t.append(s)}i.title=i.title.split(" ",12).join().replace(/,/g," ")+"...";var o='<div class="rss-galerie__item-link-post"><a href="'+i.lien+'" target="_blank" rel="nofollow noopener noreferrer"><h2 class="rss-galerie__item-titre">'+i.title+"</h2></a></div>";t.append(o),i.description=i.description.split(" ",p.data_longueur).join().replace(/,/g," ")+"[...]";var l='<div class="rss-galerie__item-description"><p>'+i.description+"</p></div>";if(t.append(l),p.data_date){var c=e("<div/>",{class:"rss-galerie__item-metas"}),g='<span class="rss-galerie__item-date"><i class="fa fa-calendar" aria-hidden="true"></i>'+new Date(i.update).toLocaleDateString()+"</span>",_='<span class="rss-galerie__item-auteur"><i class="fa fa-user" aria-hidden="true"></i>'+i.author+"</span>";c.append(g),i.author&&c.append(_),t.append(c)}r.append(t),d.append(r)})),setTimeout((function(){e(".rss-galerie__item",d).css({transition:"all 500ms linear",transform:"scale(1)"})}),200)}})))}};e(window).on("elementor/frontend/init",i.init)}(jQuery,window.elementorFrontend);